!function(t){"use strict";t((function(){var o,e,i,n,a,r,s,l,d=!1,_=t(".xt-woo-quick-view"),c=350,v=350,f=400,u=400,w=900,p=755,h=w,m=!1,g=!1,x=null,q=null,O=!1,y=0,T=".product:not(.xt_wooqv-product), .jet-woo-builder-product",X="click";function b(){d="undefined"!=typeof wp&&void 0!==wp.customize,f=z("xt_wooqv-desktop-slider-width",400,!0),u=z("xt_wooqv-desktop-slider-height",400,!0),XT_WOOQV.is_fullscreen?f=z("xt_wooqv-desktop-slider-width-fullscreen",40,!0):XT_WOOQV.is_inline&&(f=z("xt_wooqv-desktop-slider-width-inline",400,!0),u=z("xt_wooqv-desktop-slider-height-inline",400,!0))}function W(){s=t(window).width(),l=t(window).height(),O=s<=XT_WOOQV.layouts.M,s<=XT_WOOQV.layouts.S,i=O?parseInt(c):parseInt(f),n=O?parseInt(v):parseInt(u)}function Q(o){if(o&&o.length){var e=o.find("img.attachment-shop_catalog");0===e.length&&0===(e=o.find(".woocommerce-LoopProduct-link > img")).length&&0===(e=o.find(".woocommerce-LoopProduct-link img").first()).length&&0===(e=o.find(".attachment-woocommerce_thumbnail").first()).length&&0===(e=o.find(".woocommerce-LoopProduct-link").first()).length&&(e=o.find(".wp-post-image").first())}else e=o;return e&&0===e.length&&(e=t(".empty-box img").length?t(".empty-box img"):o),e}function V(t,o){var e=!1;return function(){e||(t.call(this),e=!0,setTimeout((function(){e=!1}),o))}}function C(){var o,e=t._data(document.body).events;if(e&&void 0!==e.click){for(var i=e.click,n=0;n<i.length;n++)if("preview"===i[n].namespace){o=i[n].handler;break}o&&(t(document.body).off("click.preview","a"),t(document.body).on("click.preview","a",(function(e){t(e.target).hasClass("xt_wooqv-trigger")||t(e.target).hasClass("xt_wooqv-trigger-icon")||o(e)})))}if(d&&XT_WOOQV.can_use_premium_code&&void 0!==wp.customize&&void 0!==wp.customize.preview){_.attrchange({trackValues:!0,callback:function(t){-1!==t.attributeName.search("xt_wooqv-")&&(b(),setTimeout((function(){S(),S()}),1))}});["modal_slider_width_desktop","modal_slider_width_desktop_fullscreen","modal_slider_width_desktop_inline","modal_slider_height_desktop","modal_slider_height_mobile","modal_slider_height_mobile_fullscreen","modal_slider_height_mobile_inline"].forEach((function(t){wp.customize.value("xt_wooqv["+t+"]").bind((function(){S()}))}))}var r=function(t,o,e){var i=Q(e);!function(t,o){if(t){var e=new Image;e.src=t,e.onload=function(){o(!0),e.remove()},e.onerror=function(){o(!1),e.remove()}}else o(!1)}(i.attr("src"),(function(){j(t,o,e,i,a,h,"open")}))};if(t("body").on(X,(function(o){var e,i,n,s;t(o.target).is(".xt_wooqv-shortcode-trigger:not(.xt_wooqv-shortcode-in-loop)")||t(o.target).closest(".xt_wooqv-shortcode-trigger:not(.xt_wooqv-shortcode-in-loop)").length?(o.preventDefault(),o.stopPropagation(),XT_WOOQV.can_use_premium_code&&(n=(e=t(o.target).hasClass(".xt_wooqv-shortcode-trigger")?t(o.target):t(o.target).closest(".xt_wooqv-shortcode-trigger")).data("id"),s=e.data("variation"),i=e.closest(T).first(),XT_WOOQV.is_redirect?location.href=e.data("url"):m?_t(n):r(n,s,i))):t(o.target).is(".xt_wooqv-product-overlay")?(o.preventDefault(),o.stopPropagation(),t(o.target).next().find(".xt_wooqv-trigger").trigger(X)):t(o.target).is(".xt_wooqv-trigger")||t(o.target).closest(".xt_wooqv-trigger").length?(o.preventDefault(),o.stopPropagation(),i=(e=t(o.target).hasClass(".xt_wooqv-trigger")?t(o.target):t(o.target).closest(".xt_wooqv-trigger")).closest(T).first(),n=e.data("id"),s=e.data("variation"),XT_WOOQV.is_redirect?location.href=e.data("url"):m?_t(n):r(n,s,i)):t(o.target).is(".xt_wooqv-close-icon")||t(o.target).is("html.xt_wooqv-active")||t(o.target).is(".xt_wooqv-overlay")||t(o.target).is(".xt_wooqv-nav")?g&&m&&D(a,h):t(o.target).is(".xt_wooqv-prev")||t(o.target).closest(".xt_wooqv-prev").length?J():(t(o.target).is(".xt_wooqv-next")||t(o.target).closest(".xt_wooqv-next").length)&&K()})),d){var s=["a .xt_wooqv-trigger","a .xt_wooqv-product-overlay"];s=s.join(","),t("body").on("mouseover",s,(function(){var o=t(this).closest("a");o.attr("data-href",o.attr("href")).attr("href","#")})).on("mouseout",s,(function(){var o=t(this).closest("a");o.attr("href",o.attr("data-href"))}))}if(XT_WOOQV.can_use_premium_code&&document.addEventListener("keyup",(function(t){if(!t.defaultPrevented){var o=t.key||t.keyCode;"Escape"!==o&&"Esc"!==o&&27!==o||D(a,h)}})),t(window).on("resize",(function(){H(),H()})),t(document.body).on("xt_wooqv-animation-end",(function(){S(),XT_WOOQV.can_use_premium_code&&L(),setTimeout((function(){m?t("html").addClass("xt_wooqv-ready"):(t("html").removeClass("xt_wooqv-ready"),XT_WOOQV.is_inline&&k())}),10),g=!0})),XT_WOOQV.close_on_added){t(document.body).on("xt_atc_added_to_cart",(function(){m&&D(a,h)}))}}function k(){t(".xt_wooqv-inline-wrap").removeAttr("style")}function I(t,o){var e,i=t.offset().top,n="last"===o?"next":"prev";do{e=t,t=t[n]()}while(t.length&&t.offset().top===i);return e}function z(t,o,e){var i;return e=e||!1,i=_.attr(t)?_.attr(t):o,e&&(i=parseInt(i)),i}function Y(){if(O)t(".xt-woo-quick-view, .xt_wooqv-slider-wrapper, .xt_wooqv-slider, .xt_wooqv-slider li").css("height","");else{var o=XT_WOOQV.is_fullscreen?"vw":"px",e=XT_WOOQV.is_fullscreen?"vh":"px";_.css("width",""),XT_WOOQV.is_fullscreen?(t(".xt_wooqv-slider-wrapper, .xt_wooqv-slider li").css("width",f+o),t(".xt_wooqv-item-info").css("width",100-parseInt(f)+o)):(t(".xt_wooqv-slider-wrapper, .xt_wooqv-slider li").css({width:f+o,height:u+e}),_.css("height",u+e),t(".xt_wooqv-item-info").css({width:"calc(100% - "+(f+o)+")",height:u+e}))}F()}function H(){t("html").hasClass("xt_wooqv-resizing")||(t("html").addClass("xt_wooqv-resizing"),o&&clearTimeout(o),o=setTimeout((function(){t("html").removeClass("xt_wooqv-resizing")}),500)),window.requestAnimationFrame((function(){W(),d&&XT_WOOQV.can_use_premium_code&&Y(),s<=i?h=a=s:(a=i,h=w),l<=n?r=l:(r=n,p);var t=(s-_.width())/2,o=(l-_.height())/2,e=.8*s<h?.8*s:h;_.css({top:o>0?o:0,left:t>0?t:0,width:e}),F(),P()}))}function P(){if(O){var t=_.find(".xt_wooqv-item-info .xt_wooqv-item-info-inner").outerHeight(!0)+y;_.find(".xt_wooqv-item-info").css("height",t)}else XT_WOOQV.is_inline||_.find(".xt_wooqv-item-info").css("height","100%")}function S(){t(window).trigger("resize")}function D(o,e,i,n){if(!m)return!1;var a=tt(),r=q;i=void 0!==i&&i;var s=nt(a),l=Q(s);i||_.hasClass("velocity-animating")?function(o,e,i,n){F(!0);var a=(o=o.length?o:t(".empty-box")).offset().top-t(window).scrollTop(),r=o.offset().left,s=o.width();t("html").removeClass("xt_wooqv-active xt_wooqv-ready"),t(".empty-box").removeClass(".empty-box"),_.velocity("stop").removeClass("xt_wooqv-add-content xt_wooqv-no-transitions xt_wooqv-animate-width xt_wooqv-is-visible").css({top:a,left:r,width:s}),m=!1,S(),XT_WOOQV.is_inline&&k();void 0!==n&&n()}(l,0,0,n):j(a,r,s,l,o,e,"close",n)}function j(o,e,i,n,a,d,c,v){var f,u,w,p,h,q=n.length?n.offset().top-t(window).scrollTop():0,y=n.length?n.offset().left:0,T=n.length?n.width():0,X=(s-a)/2,b=(l-r)/2,Q=.8*s<d?.8*s:d,V=(s-Q)/2,C=b;g=!1;var I=XT_WOOQV.is_fullscreen?s:.2*s,z=XT_WOOQV.is_fullscreen?l:.2*l;"open"!==c||m?(m||"close"===c)&&function(){if(t("html").removeClass("xt_wooqv-ready"),F(!0),XT_WOOQV.is_inline&&k(),O&&_.removeClass("xt_wooqv-add-content xt_wooqv-animate-width"),XT_WOOQV.is_fullscreen||XT_WOOQV.is_inline)"none"===XT_WOOQV.animation_type?(f={opacity:0},u={opacity:0}):"fade"===XT_WOOQV.animation_type?(f={opacity:1},u={opacity:0}):"slide-top"===XT_WOOQV.animation_type?(f={translateY:0,opacity:1},u={translateY:-z,opacity:1}):"slide-bottom"===XT_WOOQV.animation_type?(f={translateY:0,opacity:1},u={translateY:z,opacity:1}):"slide-left"===XT_WOOQV.animation_type?(f={translateX:0,opacity:1},u={translateX:-I,opacity:1}):"slide-right"===XT_WOOQV.animation_type&&(f={translateX:0,opacity:1},u={translateX:I,opacity:1});else{var o=O?_.position().left:X;f={width:a,top:b>0?b:0,left:o>0?o:0},u={width:T,top:q>0?q:0,left:y>0?y:0,scaleX:O?"1":"0.5",scaleY:O?"1":"0.5",opacity:0}}_.removeClass("xt_wooqv-add-content").velocity(f,XT_WOOQV.is_fullscreen||XT_WOOQV.is_inline||O?0:300,"ease",(function(){t("html").removeClass("xt_wooqv-active"),_.removeClass("xt_wooqv-animate-width").velocity(u,(XT_WOOQV.is_fullscreen||XT_WOOQV.is_inline,500),"ease",(function(){m=!1,_.removeClass("xt_wooqv-no-transitions xt_wooqv-is-visible"),i.removeClass("empty-box"),S(),t(document.body).trigger("xt_wooqv-animation-end"),void 0!==v&&v()}))})),x=null}():(t("html").addClass("xt_wooqv-active"),A(o,e,(function(){W(),i.addClass("empty-box"),XT_WOOQV.is_fullscreen||XT_WOOQV.is_inline?("none"===XT_WOOQV.animation_type?(f={opacity:1},u={opacity:1}):"fade"===XT_WOOQV.animation_type?(f={opacity:0},u={opacity:1}):"slide-top"===XT_WOOQV.animation_type?(f={translateY:-z,opacity:1},u={translateY:0,opacity:1}):"slide-bottom"===XT_WOOQV.animation_type?(f={translateY:z,opacity:1},u={translateY:0,opacity:1}):"slide-left"===XT_WOOQV.animation_type?(f={translateX:-I,opacity:1},u={translateX:0,opacity:1}):"slide-right"===XT_WOOQV.animation_type&&(f={translateX:I,opacity:1},u={translateX:0,opacity:1}),w="easeInOut",p=250):(f={width:T,top:q>0?q:0,left:y>0?y:0,scaleX:O?"1":"0.5",scaleY:O?"1":"0.5",opacity:0},u={width:a,top:b>0?b:0,left:X>0?X:0,scaleX:"1",scaleY:"1",opacity:1},w=O?"easeInOut":[400,20],p=O?250:800),_.velocity(f,0).velocity(u,p,w,(function(){_.addClass("xt_wooqv-animate-width"),O&&_.addClass("xt_wooqv-add-content"),h={top:C,left:V,width:Q},_.velocity(h,XT_WOOQV.is_fullscreen||XT_WOOQV.is_inline||O?100:300,"ease",(function(){F(),S(),_.addClass("xt_wooqv-add-content"),setTimeout((function(){_.addClass("xt_wooqv-preview-gallery")}),50),setTimeout((function(){_.removeClass("xt_wooqv-preview-gallery")}),2e3),m=!0,t(document.body).trigger("xt_wooqv-animation-end"),void 0!==v&&v()}))})).addClass("xt_wooqv-is-visible")})))}function A(o,e,i){var n=m?1:0;if(!n||g)if("undefined"!=typeof xt_woofc_is_cart_open&&xt_woofc_is_cart_open()&&xt_woofc_close_cart(),e=-1===(e=e||0)?0:e,x=x||0,q=q||0,!n&&XT_WOOQV.is_inline&&(function(o,e){var i=XT_WOOQV.inline_position,n=e.hasClass("xt_wooqv-shortcode-trigger"),a=!1;if(n&&(e.closest(T).length?(o=e.closest(T),a=!0):o=e),!n||a){var r=I(o,"first");o="below"===i?I(o,"last"):r}var s=t(".xt_wooqv-inline-wrap");0===s.length&&(_.wrap('<div class="xt_wooqv-inline-wrap"></div>'),s=t(".xt_wooqv-inline-wrap")),!n||a?(s.css({padding:r.css("padding"),margin:r.css("margin")}),s.removeClass("xt_wooqv-inline-shortcode")):(s.css({margin:"20px 0"}),s.addClass("xt_wooqv-inline-shortcode")),"below"===i?(s.removeClass("xt_wooqv-inline-above"),s.addClass("xt_wooqv-inline-below"),s.insertAfter(o)):(s.removeClass("xt_wooqv-inline-below"),s.addClass("xt_wooqv-inline-above"),s.insertBefore(o))}(nt(o),st(o)),function(){var o=t(".xt_wooqv-inline-wrap").offset().top,e=o-25;if(!O){var i=t(window).height();e=400<i?o-(i/2-200):o}t("html, body").animate({scrollTop:e},400)}()),g?n?_.find(".xt_wooqv-slider-wrapper").block({message:null}):(_.block({message:null}),t("html").addClass("xt_wooqv-loading")):st(o).block({message:null}),x=o,q=e,n&&e){var a={action:"xt_wooqv_quick_view",id:o,variation_id:e,slider_only:n};t.ajax({url:XT_WOOQV.wc_ajax_url.toString().replace("%%endpoint%%","xt_wooqv_quick_view"),data:a,type:"get",success:function(a){E(t(a.quickview)),G(o,e,a,n,i)}})}else lt(o,(function(a,r){!function(o){_.find(".xt_wooqv-product").replaceWith(o),t("body").trigger("quick-view-displayed"),t("body").trigger("xt-woo-quick-view-displayed"),window.dispatchEvent(new Event("load",{bubbles:!0}))}(a),G(o,e,r,n,i)}));else t(document.body).one("xt_wooqv-animation-end",(function(){m&&setTimeout((function(){A(o,e,i)}),50)}))}function E(t){var o=_.find(".xt_wooqv-slider-wrapper");o.length>1&&o.not(":first").remove(),o.addClass("ontop").before(t),o.css({transition:"opacity 0.5s",opacity:0}),setTimeout((function(){o.remove()}),500)}function G(o,i,n,a,s){n=n||null,x=o,q=i,d&&Y(),a?F():("function"==typeof t.fn.wc_variation_form&&_.find(".variations_form").each((function(){t(this).wc_variation_form(),t(this).off("found_variation",M),t(this).find(".reset_variations").off("click",B),t(this).find(".reset_variations").off(X,B),t(this).on("found_variation",M),t(this).find(".reset_variations").on(X,B)})),"function"==typeof t.fn.wc_pb_bundle_form&&_.find(".bundle_form").each((function(){t(this).wc_pb_bundle_form();var o=t(this).find(".bundle_button"),e=t(this).find(".xt_wooqv-more-info");o.length&&e.length&&e.appendTo(o)})),"function"==typeof t.fn.wc_composite_form&&_.find(".composite_form").each((function(){t(this).wc_composite_form();var o=t(this).find(".composite_button"),e=t(this).find(".xt_wooqv-more-info");o.length&&e.length&&e.appendTo(o)}))),S(),XT.isTouchDevice()&&(_.find(".xt_wooqv-product").off("scroll",V(ct,100)),_.find(".xt_wooqv-product").on("scroll",V(ct,100))),XT_WOOQV.can_use_premium_code?(!function(t,o){if(parseInt(_.find(".xt_wooqv-slider-wrapper").attr("data-attachments"))<=1)return void 0!==o&&o(t),!1;e=_.find(".xt_wooqv-slider").lightSlider({mode:XT_WOOQV.slider_animation,auto:!!XT_WOOQV.slider_autoplay,pauseOnHover:!0,pause:3e3,item:XT_WOOQV.slider_vertical?1:XT_WOOQV.slider_items_desktop,loop:!0,gallery:!!XT_WOOQV.slider_gallery,thumbItem:7,thumbMargin:0,slideMargin:0,vertical:!!XT_WOOQV.slider_vertical,vThumbWidth:60,verticalHeight:.7*r,enableDrag:XT.isTouchDevice(),currentPagerPosition:"left",controls:!!XT_WOOQV.slider_arrows_enabled,prevHtml:'<span class="xt_wooqv-arrow-icon '+XT_WOOQV.slider_arrow+'"></span>',nextHtml:'<span class="xt_wooqv-arrow-icon '+XT_WOOQV.slider_arrow+'"></span>',responsive:[{breakpoint:XT_WOOQV.layouts.M,settings:{thumbItem:11,item:1}},{breakpoint:XT_WOOQV.layouts.S,settings:{thumbItem:9,item:1}}],onSliderLoad:function(e){N(),XT_WOOQV.slider_lightbox&&(e.lightGallery({selector:".xt_wooqv-slider .lslide",mode:"lg-"+XT_WOOQV.slider_animation,prevHtml:'<span class="xt_wooqv-arrow-icon '+XT_WOOQV.slider_arrow+'"></span>',nextHtml:'<span class="xt_wooqv-arrow-icon '+XT_WOOQV.slider_arrow+'"></span>',showAfterLoad:!1,enableDrag:XT.isTouchDevice()}),e.on("onAfterOpen.lg",(function(){var t=e.find(".lslide.active").index();e.data("lightGallery").slide(t-1)}))),void 0!==o&&o(t)}})}(n,s),a||L()):void 0!==s&&s(n),a||t(document.body).trigger("xt_wooqv-product-loaded"),g?(a?_.find(".xt_wooqv-slider-wrapper").unblock():_.unblock(),setTimeout((function(){a||t("html").removeClass("xt_wooqv-loading")}),a?0:300)):st(o).unblock(),m=!0}function L(){XT_WOOQV.modal_nav_enabled&&(ot().length>1?(t("html").removeClass("xt_wooqv-hide-nav"),Z()?t("html").addClass("xt_wooqv-first-product"):t("html").removeClass("xt_wooqv-first-product"),$()?t("html").addClass("xt_wooqv-last-product"):t("html").removeClass("xt_wooqv-last-product"),null===R()?t("html").addClass("xt_wooqv-prev-hidden"):t("html").removeClass("xt_wooqv-prev-hidden"),null===U()?t("html").addClass("xt_wooqv-next-hidden"):t("html").removeClass("xt_wooqv-next-hidden")):t("html").addClass("xt_wooqv-hide-nav"))}function M(t,o){!function(t){var o=tt(),e=t?t.variation_id:-1;A(o,e,(function(){P()}))}(o)}function B(){lt(x,(function(t,o){t.length&&(E(t.find(".xt_wooqv-slider-wrapper")),G(x,null,o,!0))}))}function F(t){XT_WOOQV.can_use_premium_code&&e&&"function"==typeof e.refresh&&(e.refresh(),e.goToSlide(1),N(),void 0!==t&&t&&XT_WOOQV.slider_lightbox&&e.data("lightGallery")&&e.data("lightGallery").destroy())}function N(){if(XT_WOOQV.slider_gallery&&_.find(".lSGallery").length){var t=_.find(".xt_wooqv-slider-wrapper"),o=t.find(".lSGallery");if(XT_WOOQV.slider_vertical){var e=o.height(),i=(t.height()-e)/2;i=i<0?0:i,o.css({height:e,top:i})}else{var n=o.width(),a=(t.width()-n)/2;a=a<0?0:a,o.css({width:n,left:a})}}}function J(){if(m&&x){var t=R();t&&_t(t)}}function K(){if(m&&x){var t=U();t&&_t(t)}}function R(){var t=rt()-1,o=at(t);return XT_WOOQV.is_inline&&o&&o.length&&o.hasClass("xt_wooqv-inline-wrap")&&(o=at(--t)),o&&o.length?o:null}function U(){var t=rt()+1,o=at(t);return XT_WOOQV.is_inline&&o&&o.length&&o.hasClass("xt_wooqv-inline-wrap")&&(o=at(++t)),o&&o.length?o:null}function Z(){return!(!m||!x)&&x===it()}function $(){return!(!m||!x)&&x===dt(ot().last().closest(T).first())}function tt(){return null!==x&&0!==st(x).length||(x=it()),x}function ot(){return t(T).find(".xt_wooqv-trigger")}function et(){return ot().first().closest(T).first()}function it(){return dt(et())}function nt(t){return st(t).closest(T).first()}function at(o){var e=ot().toArray();return o>=0&&o<e.length?nt(t(e[o]).data("id")):null}function rt(){return ot().toArray().findIndex((function(o){return t(o).data("id")===tt()}))}function st(o){return t(".xt_wooqv-trigger[data-id="+o+"]").first()}function lt(o,e){var i,n=st(o);if(n.length&&n.data("uniqid")){var a=n.data("uniqid");i=t(t("#xt_wooqv-quickview-"+a).html())}if(i&&i.length)setTimeout((function(){e(i,null)}),g?300:0);else{var r={action:"xt_wooqv_quick_view",id:o};t.ajax({url:XT_WOOQV.wc_ajax_url.toString().replace("%%endpoint%%","xt_wooqv_quick_view"),data:r,type:"get",success:function(o){e(t(o.quickview),o)}})}}function dt(t){return t.length?t.find(".xt_wooqv-trigger").data("id"):null}function _t(t){var o;if("number"==typeof t)o=t;else{var e=t.find(".xt_wooqv-trigger");e.length&&(o=e.data("id"))}if(o){var i=st(o).data("variation");_.velocity("stop"),m=!1,x=null,A(o,i,(function(){m=!0}))}}function ct(){var o=Math.floor(t(this).height());window.innerHeight<o?(y=o-window.innerHeight,P(),t("html").addClass("xt_wooqv-mobile-bar-visible")):(y=0,t("html").removeClass("xt_wooqv-mobile-bar-visible"),P())}XT_WOOQV.is_inline&&t("html").addClass("xt_wooqv-is-inline"),t((function(){b(),W(),C(),S()})),window.xt_wooqv_resize=S,window.xt_wooqv_resize_info=P,window.xt_wooqv_open=function(t){t=void 0!==t?t:null,m||(null!==t?nt(t):et()).find(".xt_wooqv-trigger").trigger(X)},window.xt_wooqv_close=function(){D(a,h)},window.xt_wooqv_is_modal_open=function(){return m},XT_WOOQV.can_use_premium_code&&(window.xt_wooqv_previous=J,window.xt_wooqv_is_first=Z,window.xt_wooqv_is_last=$,window.xt_wooqv_next=K)}))}(jQuery);